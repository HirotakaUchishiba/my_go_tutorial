このドキュメントでは、Version 1で作成したコマンドライン（CLI）ツールを、インターネット経由でアクセスできる**Web APIサーバー**へと進化させます。Goの強力な標準ライブラリ`net/http`を使い、外部からのリクエストに応じてURLの短縮やリダイレクトを行う機能を実装します。

---

### 主な学習内容と実装ステップ

1. **Webサーバーの起動**
    
    - まず、CLIの対話式ループを削除し、代わりにHTTPリクエストを待ち受ける基本的なWebサーバーを立ち上げます。ここでは、Goの`net/http`パッケージを使い、特定ポート（例: 8080）でサーバーを起動する方法を学びます。
        
2. **URL短縮APIの実装 (`POST /shorten`)**
    
    - `{"url": "https://example.com"}`のような**JSON**形式で長いURLを受け取り、短縮URLをJSONで返すAPIエンドポイントを作成します。リクエストボディのJSONをGoのデータ構造（struct）に変換する方法や、レスポンスを生成する方法を学びます。
        
3. **リダイレクト機能の実装 (`GET /{shortURL}`)**
    
    - 生成された短縮URL（例: `http://localhost:8080/abcdef`）にアクセスがあった際に、保存されている元の長いURLへ自動的に転送（リダイレクト）する機能を実装します。URLに含まれる動的な値の取得方法や、`http.Redirect`の使い方を学びます。
        
4. **データの永続化**
    
    - 現状のままではサーバーを再起動するとデータが消えてしまうため、短縮URLの情報をJSONファイルに保存する仕組みを追加します。これにより、サーバーを停止してもデータが保持されるようになります。ファイルの読み書きには`os`パッケージ、JSONへの変換には`encoding/json`パッケージを利用します。
        

この章を終えると、単なるローカルプログラムではなく、他のサービスとも連携可能な、より実用的なWebアプリケーションの基礎が完成します。